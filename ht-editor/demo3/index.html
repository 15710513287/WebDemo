<!DOCTYPE html>
<html>
    <head>
        <title>HT for Web</title>
        <meta charset="UTF-8">
        <meta name='viewport' content='user-scalable=no'>
        <link rel="shortcut icon" href="custom/images/favicon.ico?v=3" />
        <style>
            html, body {
                padding: 0px;
                margin: 0px;
            }
            .ht-widget-menu .header-item{
            	padding: 0 !important;
            	padding-top: 0.2em !important;
            	color: #d4d4d4;
            }
            .ht-widget-menu .header-item>span{
            	padding: 0 1.2em;
            }
           	.ht-widget-menu .header-item>.menu-item-icon{
           		height: 22px !important;
    			width: 22px !important;
    			display: inline-block !important;
    			vertical-align: middle;
           	}
           	.ht-widget-menu .header.header-right .header-item>.menu-item-icon{
           		padding: 0 0.8em;
           		height: 16px !important;
    			width: 16px !important;
    			display: inline-block !important;
    			vertical-align: middle;
           	}
            .ht-widget-menu .header-item:after{
            	content: '|';
            	color: #717171;
            }
            .ht-widget-menu .header-item:last-child:after{
            	content: ' ';
            }
        </style>

        <!-- ht config -->
        <script src='custom/configs/htconfig.js'></script>

        <!-- configuration for editor -->
        <script src='custom/configs/config.js'></script>

        <!-- ht core -->
        <script src='libs/ht.js'></script>
        <!-- ht plugins -->
        <script src="libs/ht-cssanimation.js"></script>
        <script src='libs/ht-contextmenu.js'></script>
        <script src='libs/ht-dialog.js'></script>
        <script src='libs/ht-edgetype.js'></script>
        <script src='libs/ht-form.js'></script>
        <script src='libs/ht-overview.js'></script>
        <script src="libs/ht-autolayout.js"></script>
        <script src="libs/ht-obj.js"></script>
        <script src="libs/ht-historymanager.js"></script>
        <script src="libs/ht-ui.js"></script>
        <script src="libs/ht-vector.js"></script>
		<script src="libs/ht-menu.js"></script>

        <!-- socket.io -->
        <script src="/socket.io/socket.io.js"></script>

        <script>
            function init() {
            	if(!window.disabledDiv){
					window.disabledDiv = ht.Default.createDisabledDiv('custom/images/加载.json');
					window.disabledDiv.style.top = 0;
					window.disabledDiv.style.left = 0;
					window.disabledDiv.style.right = 0;
					window.disabledDiv.style.bottom = 0;
					window.disabledDiv.style.zIndex = 100;
					document.body.appendChild(window.disabledDiv);
				}
				window.disabledDiv.style.display = 'block';
                var urls = hteditor_config.subConfigs || [];
                urls.push('client.js');
                urls.push('custom/configs/main.js');
                ht.Default.loadJS(urls, function(){
                    urls = [
                        'locales/' + hteditor.config.locale + '.js',
                        'custom/locales/' + hteditor.config.locale + '.js'
                    ];
                    urls.push(hteditor.init);
                    if (hteditor.config.libs) {
                        urls = urls.concat(hteditor.config.libs);
                    }
                    urls.push('vs/loader.js');
                    urls.push('vs/editor/editor.main.nls.js');
                    urls.push('vs/editor/editor.main.js');
                    ht.Default.loadJS(urls, function(){
                    	/*$.ajax({
		            		type:"get",
		            		url:'http://192.168.7.47:5888/login/checkLogin',
		            		async:true,
		            		success:function(data){
		            			if(data.code){
		            				window.location.href = 'error.html'
		            			}
		            			window.editor = hteditor.createEditor({
		                        	container: null,
		                            onEditorCreated: function(editor) {
		                                handleEditorCreated(editor);
		                            }
		                        });
		            		},error(data){
		            			window.location.href = 'error.html'
		            		}
		            	});
		            	*/
                        window.editor = hteditor.createEditor({
                        	container: null,
                            onEditorCreated: function(editor) {
                                handleEditorCreated(editor);
                            }
                        });
                    });
                });
            }
        </script>
    </head>
    <body onload='init()'>
    	
    </body>
</html>
