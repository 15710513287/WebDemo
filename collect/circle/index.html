<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>圆形进度条</title>
		<link rel="stylesheet" type="text/css" href="css/style.css">
	</head>
	<body>
		<div class="circle">
	        <div class="pie_left"><div class="left"></div></div>
	        <div class="pie_right"><div class="right"></div></div>
	        <div class="theValue"><span class="vauNum">81</span>%</div>
	    </div>
	    <div class="circle">
	        <div class="pie_left"><div class="left"></div></div>
	        <div class="pie_right"><div class="right"></div></div>
	        <div class="theValue"><span class="vauNum">20</span>%</div>
	    </div>
	    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="737"><path d="M903.05422222 535.43822222v285.35466667c0 37.31911111-30.26488889 67.584-67.584 67.584H133.12c-18.09066667 0-35.04355555-7.05422222-47.90044445-19.79733334-12.62933333-12.62933333-19.68355555-29.12711111-19.68355555-46.5351111V290.36088889c0-18.65955555 7.05422222-36.06755555 19.91111111-49.03822222 12.62933333-12.74311111 29.58222222-19.79733333 47.67288889-19.79733334h384.79644445c16.95288889 0 30.72-13.76711111 30.72-30.72s-13.76711111-30.72-30.72-30.72H133.12c-71.22488889 0-129.024 57.79911111-129.024 130.27555556v531.56977778c0 70.08711111 57.79911111 127.77244445 129.024 127.77244444h702.35022222c71.22488889 0 129.024-57.79911111 129.024-129.024V535.43822222c0-16.95288889-13.76711111-30.72-30.72-30.72-16.95288889-0.11377778-30.72 13.65333333-30.72 30.72z" fill="#0297FF" p-id="738"></path><path d="M796.44444445 731.93244445c0 14.79111111-12.06044445 26.85155555-26.85155556 26.85155555H195.35644445c-7.168 0-13.99466667-2.84444445-19.0008889-7.85066667-5.00622222-5.00622222-7.85066667-11.83288889-7.85066666-19.00088888 0-14.90488889 11.94666667-26.85155555 26.85155556-26.85155556h574.35022222c14.79111111-0.11377778 26.73777778 11.94666667 26.73777778 26.85155556z" fill="#B3E0FF" p-id="739"></path><path d="M452.26666667 548.864c0 14.79111111-12.06044445 26.85155555-26.85155556 26.85155555H195.35644445c-7.168 0-13.99466667-2.84444445-19.0008889-7.85066666-5.00622222-5.00622222-7.85066667-11.83288889-7.85066666-19.00088889 0-14.90488889 11.94666667-26.85155555 26.85155556-26.85155555H425.52888889c14.67733333 0 26.73777778 11.94666667 26.73777778 26.85155555zM452.26666667 381.72444445c0 14.79111111-12.06044445 26.85155555-26.85155556 26.85155555H195.35644445c-7.168 0-13.99466667-2.84444445-19.0008889-7.85066667-5.00622222-5.00622222-7.85066667-11.83288889-7.85066666-19.00088888 0-14.90488889 11.94666667-26.85155555 26.85155556-26.85155556H425.52888889c14.67733333 0 26.73777778 11.94666667 26.73777778 26.85155556z" fill="#0297FF" p-id="740"></path><path d="M561.83466667 522.01244445V395.37777778l317.32622222-318.91911111s61.32622222-22.30044445 112.52622222 28.89955555c48.46933333 48.46933333 21.84533333 103.99288889 21.84533334 103.99288889L694.72711111 522.01244445H561.83466667z" fill="#FF8330" p-id="741"></path><path d="M812.82844445 143.01866667l138.46755555 127.43111111-43.46311111 42.55288889-137.10222222-127.65866667z" fill="#FFFFFF" p-id="742"></path></svg>
		<script src="js/jquery-2.1.1.min.js"></script>
		<script>
		$(function() {
		    $('.circle').each(function(index, el) {
		        var num = Number($(this).find('.vauNum').text());
		        if(!num){
		        	return;
		        }
		        if(num < 0){
		        	num = 0;
		        }
		        if(num > 100){
		        	num = 100;
		        }
		        num = num * 3.6;
	            var that=$(this).find('.right');
	            $(this).find('.right').animate({
	                aniStyle:num
	            },{
	                step:function(now,fx){
	                	if(now > 180){
	                		$(this).attr("style","-ms-transform : rotate(180deg);-webkit-transform : rotate(180deg);transform: rotate(180deg);");
	                		var deg = now - 180;
	                		/*$(this).parents(".pie_right").prev(".pie_left").find(".left").css({
	                			"transform": "rotate(" + deg + "deg)",
	                			"-ms-transform" : "rotate(" + deg + "deg)",
	                			"-webkit-transform" : "rotate(" + deg + "deg)"
	                		});*/
	                		$(this).parents(".pie_right").prev(".pie_left").find(".left").attr("style","-ms-transform : rotate(" + deg + "deg);-webkit-transform : rotate(" + deg + "deg);transform: rotate(" + deg + "deg);");
	                	}else{
	                		/*$(this).css({
	                			"transform": "rotate(" + now + "deg)",
	                			"-ms-transform" : "rotate(" + now + "deg)",
	                			"-webkit-transform" : "rotate(" + now + "deg)"
	                		});*/
	                		$(this).attr("style","-ms-transform : rotate(" + now + "deg);-webkit-transform : rotate(" + now + "deg);transform: rotate(" + now + "deg);");
	                	}
	            	},
	            	duration:1500
	        	})
		    });
		});
		</script>
	</body>
</html>
